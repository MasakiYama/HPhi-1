<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>1.7. Use eigenvectors &mdash; HΦ Tutorial  documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="HΦ Tutorial  documentation" href="../index.html" />
    <link rel="up" title="1. Tutorial for calculations at zero temperature" href="index.html" />
    <link rel="next" title="2. Tutorial for finite-temperature calculations" href="../finite_temperature/index.html" />
    <link rel="prev" title="1.6. How to use Expert mode" href="expert.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="use-eigenvectors">
<h1>1.7. Use eigenvectors<a class="headerlink" href="#use-eigenvectors" title="Permalink to this headline">¶</a></h1>
<p>In this tutorial, we will study how to read the eigenvectors.
In the standard mode, setting <code class="docutils literal"><span class="pre">EigenVecIO</span> <span class="pre">=</span> <span class="pre">&quot;Out&quot;</span></code> makes HPhi to write the calculated eigenvectors as <code class="docutils literal"><span class="pre">output/zvo_eigenvec_[index]_rank_[rank].dat</span></code>, where <code class="docutils literal"><span class="pre">[index]</span></code> is the index of the states (e.g., the ground state has <code class="docutils literal"><span class="pre">[index]</span> <span class="pre">=</span> <span class="pre">0</span></code>) and <code class="docutils literal"><span class="pre">[rank]</span></code> is the rank of the process.
In the MPI parallelization with Npara processes, HPhi splits the whole Hilbert space into the Npara blocks and each process treats one of them.
The file format is described in the <a class="reference external" href="http://issp-center-dev.github.io/HPhi/manual/master/en/html/filespecification/outputfiles_en/tmpvec_en.html">reference manual</a> .
For example, the following python function reads the vector:</p>
<div class="highlight-none"><div class="highlight"><pre>def read_gs(*, index=0, rank=0):
    import numpy as np
    from os.path import join
    from struct import unpack

    filename = join(&quot;output&quot;,
                    &quot;zvo_eigenvec_{}_rank_{}.dat&quot;.format(index,
                                                         rank))
    with open(filename, &quot;rb&quot;) as f:
        f.read(4)
        nelems = unpack(&quot;L&quot;, f.read(8))[0]
        ret = np.zeros(nelems, dtype=np.complex)
        f.read(16)
        for i in range(nelems):
            re = unpack(&quot;d&quot;, f.read(8))[0]
            im = unpack(&quot;d&quot;, f.read(8))[0]
            ret[i] = np.complex(re, im)
        return ret
</pre></div>
</div>
<div class="section" id="exercise">
<h2>1.7.1. Exercise<a class="headerlink" href="#exercise" title="Permalink to this headline">¶</a></h2>
<p>Check the orthogonality of the eigenvectors calculated by the LOBCG method by calculating the norm and the inner-product of some of the eigenvectors.</p>
<p>Hint: In the standard mode, the <code class="docutils literal"><span class="pre">exct</span></code> keyword controls the number of eigenvectors to be calculated.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo_HPhi.png" alt="Logo"/>
    
  </a>
</p>





<p>
<iframe src="https://ghbtns.com/github-btn.html?user=&repo=&type=watch&count=true&size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>




<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">1. Tutorial for calculations at zero temperature</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="spin_dimer.html">1.1. Spin 1/2 Dimer</a></li>
<li class="toctree-l2"><a class="reference internal" href="hubbard_dimer.html">1.2. Hubbard Dimer</a></li>
<li class="toctree-l2"><a class="reference internal" href="hubbard_trimer.html">1.3. Hubbard Trimer</a></li>
<li class="toctree-l2"><a class="reference internal" href="spin_chain.html">1.4. Heisenberg chain (zero temperature)</a></li>
<li class="toctree-l2"><a class="reference internal" href="J1J2.html">1.5. J1-J2 Heisenberg model</a></li>
<li class="toctree-l2"><a class="reference internal" href="expert.html">1.6. How to use Expert mode</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">1.7. Use eigenvectors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#exercise">1.7.1. Exercise</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../finite_temperature/index.html">2. Tutorial for finite-temperature calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../time_evolution/index.html">3. Tutorials for real-time evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dynamical/index.html">4. Tutorial for calculations of dynamical properties</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">1. Tutorial for calculations at zero temperature</a><ul>
      <li>Previous: <a href="expert.html" title="previous chapter">1.6. How to use Expert mode</a></li>
      <li>Next: <a href="../finite_temperature/index.html" title="next chapter">2. Tutorial for finite-temperature calculations</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020-, The University of Tokyo.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
      |
      <a href="../_sources/zero_temperature/vector.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>